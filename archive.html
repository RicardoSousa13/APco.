<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>APco. - Archive test</title>
    <link rel="stylesheet" href="style.css" />
  </head>
  <style>
    /* ______________________AREA 51 */

    .dark-mode {
      background-color: black;
      color: white;
    }

    .dark-mode .hdrLWF,
    .dark-mode .hdrLWF div,
    .dark-mode .hdrLWF summary,
    .dark-mode .hdrLWF p,
    .dark-mode .filtters select {
      color: white;
    }

    .dark-mode .hdrLWF details {
      border-bottom: 0.7px solid white;
    }
    .dark-mode .hdrLWF .type,
    .dark-mode .hdrLWF .year,
    .dark-mode .hdrLWF .state {
      color: white;
    }

    .dark-mode .filters select {
      color: white;
      border-bottom: 1px solid white;
    }

    .dark-mode .filters select option {
      background-color: black;
      color: white;
    }

    /* ______________________AREA 51 */

    /* ---------- Layout ---------- */
    .project-list {
      padding-top: 13em;
    }

    .hdrLWF {
      display: flex;
      flex-direction: column;
      justify-content: flex-end;
      padding: 1rem;
      font-family: San, sans-serif;
    }

    /* ---------- Filters ---------- */
    .filters {
      display: flex;
      gap: 1em;
      grid-column: 1 / -1;
      margin-bottom: 1em;
      font-size: 0.8rem;
    }

    .filters select {
      appearance: none;
      -webkit-appearance: none;
      -moz-appearance: none;
      background: transparent;
      border: none;
      border-bottom: 1px solid black;
      border-radius: 0;
      font-family: inherit;
      font-size: 0.8rem;
      text-transform: uppercase;
      padding: 0.3rem 0;
      color: black;
      cursor: pointer;
    }

    /* ---------- Archive Items ---------- */
    .hdrLWF details {
      border-bottom: 0.7px solid black;
      padding: 0.3rem 0;
      font-size: 0.8rem;
      text-transform: uppercase;
      color: black;
      transition: 0.3s ease;
    }

    summary {
      transition: 0.3s ease;
    }

    summary:hover {
      color: blue;
      letter-spacing: 0.01rem;
    }

    .hdrLWF summary {
      cursor: none;
      list-style: none;
    }

    .hdrLWF summary::-webkit-details-marker {
      display: none;
    }

    .archive-grid {
      display: grid;
      grid-template-columns: repeat(6, 1fr);
      column-gap: 20px;
    }

    .archive-grid > :first-child {
      grid-column: span 2;
    }

    /* ---------- Expanded Content ---------- */

    .project-content {
      display: grid;
      grid-template-columns: repeat(6, 1fr);
      column-gap: 20px;
      margin-top: 1rem;
      line-height: 1rem;
      font-size: 0.75rem;
      text-transform: none;
      padding-bottom: 1em;
    }

    .project-content p {
      grid-column: 3 / span 4; /* Start at column 2, span the rest */
    }

    .project-content img {
      grid-column: span 2;
      max-width: 100%;
      height: auto;
      /* margin-top: 0.5rem; */
    }

    @media (max-width: 768px) {
      .hdrLWF {
        padding: 0.5rem;
      }
      .hdrLWF details,
      .filters select {
        font-size: 0.7rem;
      }
      .archive-grid {
        display: grid;
        grid-template-columns: repeat(5, 1fr);
        column-gap: 13px;
      }
      .location,
      .state {
        display: none;
      }

      .archive-grid > :first-child {
        grid-column: span 3;
      }

      .project-content p {
        grid-column: 1 / span 5;
      }
      .project-content img {
        grid-column: span 6;
        max-width: 100%;
        height: auto;
        scroll-margin-bottom: 0.5rem;
      }
    }
  </style>
  <body>
    <div class="custom-cursor"></div>
    <!-- NAV -->
    <div class="sections grid-container nav-container">
      <div class="logo" id="logo-animation"></div>
      <a href="archive.html">Arquive</a>
      <a href="index.html">projects</a>
      <a href="about.html">info</a>
      <button id="mode-toggle">[ mode ]</button>
    </div>
    <!-- NAV -->

    <section class="project-list grid-container">
      <div class="filters">
        <select id="filter-type">
          <option value="all">All Types</option>
          <option value="architecture">Architecture</option>
          <!-- Add more types if needed -->
        </select>

        <select id="filter-year">
          <option value="all">All Years</option>
          <option value="2025">2025</option>
          <option value="2024">2024</option>
          <option value="2023">2023</option>
          <option value="2022">2022</option>
          <!-- Add more years -->
        </select>

        <select id="stateFilter">
          <option value="">All States</option>
          <option value="competition">Competition</option>
          <option value="built">Built</option>
          <option value="complete">Complete</option>
          <!-- Add more states as needed -->
        </select>
      </div>
    </section>

    <!-- ARCHIVE LIST V02 -->
    <div class="hdrLWF">
      <!-- XXX -->
      <details
        data-type="architecture"
        data-year="2022"
        data-state="complete"
        class="project"
      >
        <summary class="sections archive-grid">
          <div class="ar-title">Albergaria_casa do Outeiro</div>
          <div class="type">Social Housing</div>
          <div class="location">Porto, PT</div>
          <div class="year">2025001</div>
          <div class="state">complete</div>
        </summary>
        <div class="project-content">
          <img src="images/001.jpg" alt="Armistice Project" />
          <p>
            Arquitetos: Services United <br />
            Client: Anne Isabella <br />
            Area: 1045m2<br />
            Photography: Daniella Maiorano <br />
          </p>
        </div>
      </details>
      <!-- XXX -->
      <details
        data-type="architecture"
        data-year="2024"
        data-state="built"
        class="project"
      >
        <summary class="sections archive-grid">
          <div>MNAC</div>
          <div class="type">Social Housing</div>
          <div>Porto, PT</div>
          <div class="year">24001</div>
          <div class="state">Competition</div>
        </summary>
        <div class="project-content">
          <p>
            Arquitetos: Services United <br />
            Client: Anne Isabella <br />
            Area: 1045m2<br />
            Photography: Daniella Maiorano <br />
          </p>
          <img src="images/001.jpg" alt="Armistice Project" />
        </div>
      </details>
      <!-- XXX -->
      <details
        data-type="architecture"
        data-year="2024"
        data-state="Competition"
        class="project"
      >
        <summary class="sections archive-grid">
          <div>Albergaria_casa do Outeiro</div>
          <div class="type">Social Housing</div>
          <div>Porto, PT</div>
          <div class="year">2025001</div>
          <div class="state">Competition</div>
        </summary>
        <div class="project-content">
          <p>
            Arquitetos: Services United <br />
            Client: Anne Isabella <br />
            Area: 1045m2<br />
            Photography: Daniella Maiorano <br />
          </p>
          <img src="images/001.jpg" alt="Armistice Project" />
        </div>
      </details>
      <!-- XXX -->

      <!-- Add more <details> entries like this for other projects -->
    </div>

    <script src="script.js" defer></script>

    <script>
      const typeFilter = document.getElementById("filter-type");
      const yearFilter = document.getElementById("filter-year");
      const stateFilter = document.getElementById("stateFilter");
      const projects = document.querySelectorAll(".hdrLWF details");

      function filterProjects() {
        const selectedType = typeFilter.value.toLowerCase();
        const selectedYear = yearFilter.value;
        const selectedState = stateFilter.value.toLowerCase();

        projects.forEach((project) => {
          const type = project.dataset.type?.toLowerCase();
          const year = project.dataset.year;
          const state = project.dataset.state?.toLowerCase();

          const matchesType = selectedType === "all" || type === selectedType;
          const matchesYear = selectedYear === "all" || year === selectedYear;
          const matchesState = !selectedState || state === selectedState;

          if (matchesType && matchesYear && matchesState) {
            project.style.display = "block";
          } else {
            project.style.display = "none";
          }
        });
      }

      // Attach listeners
      typeFilter.addEventListener("change", filterProjects);
      yearFilter.addEventListener("change", filterProjects);
      stateFilter.addEventListener("change", filterProjects);

      // Optional: run once on page load
      filterProjects();
    </script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/lottie-web/5.12.2/lottie.min.js"></script>
    <script>
      const logoContainer = document.getElementById("logo-animation");

      const logoAnimation = lottie.loadAnimation({
        container: logoContainer,
        renderer: "svg",
        loop: false,
        autoplay: false,
        path: "images/Scene-1.json", // Adjust path if needed
      });

      // Start in compressed state
      logoAnimation.addEventListener("DOMLoaded", () => {
        logoAnimation.goToAndStop(logoAnimation.totalFrames, true);
      });

      // Hover animation
      logoContainer.addEventListener("mouseenter", () => {
        logoAnimation.setDirection(-1); // expand
        logoAnimation.play();
      });

      logoContainer.addEventListener("mouseleave", () => {
        logoAnimation.setDirection(1); // compress
        logoAnimation.play();
      });

      // Scroll animation
      let lastScrollTop =
        window.pageYOffset || document.documentElement.scrollTop;

      window.addEventListener("scroll", () => {
        const currentScrollTop =
          window.pageYOffset || document.documentElement.scrollTop;

        if (currentScrollTop < lastScrollTop) {
          // Scroll up → expand
          logoAnimation.setDirection(-1);
          logoAnimation.play();
        } else if (currentScrollTop > lastScrollTop) {
          // Scroll down → compress
          logoAnimation.setDirection(1);
          logoAnimation.play();
        }

        lastScrollTop = currentScrollTop <= 0 ? 0 : currentScrollTop;
      });
    </script>
  </body>
</html>
